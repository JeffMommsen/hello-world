(this["webpackJsonpreact-tutorial"]=this["webpackJsonpreact-tutorial"]||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/homeimg.95183632.png"},28:function(e,t){e.exports="data:image/png;base64,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"},31:function(e,t,a){e.exports=a(59)},36:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(27),s=a.n(r),o=(a(36),a(2)),c=a(9),i=a(10),u=function(){return sessionStorage.getItem("token")||null},d=function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("user")},m=function(e,t){sessionStorage.setItem("token",e),sessionStorage.setItem("user",JSON.stringify(t))},v=function(){try{document.all("divLogo").style.visibility="visible"}catch(e){}},p=function(){document.all("divLogin").style.visibility="hidden",document.all("divLogin").style.width="0px"},b=function(){document.all("divLogout").style.visibility="visible",document.all("divLogout").style.width="150px"},E=function(){document.all("divDashboard").style.visibility="visible",document.all("divDashboard").style.width="130px",b()},g=function(){document.all("divDashboard").style.visibility="hidden",document.all("divDashboard").style.width="0px",document.all("divLogout").style.visibility="hidden",document.all("divLogout").style.width="0px",function(){document.all("divLogin").style.visibility="visible",document.all("divLogin").style.width="80px",document.all("divLogout").style.visibility="hidden";try{v()}catch(e){}}()},h=a(11),f=a.n(h);a(60);var w=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),l=a[0],r=a[1];return{value:l,onChange:function(e){r(e.target.value)}}},y=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],s=a[1],c=w(""),i=w(""),u=w(""),d=w(""),v=(w(""),Object(n.useState)(null)),b=Object(o.a)(v,2),g=b[0],h=b[1];return Object(n.useRef)(null),l.a.createElement("div",null,l.a.createElement("div",{id:"divLogin"},"Email \xa0",l.a.createElement("input",Object.assign({type:"text"},c,{autoComplete:"new-password"})),"\xa0Password\xa0",l.a.createElement("input",Object.assign({type:"password"},i,{autoComplete:"new-password"})),"\xa0",l.a.createElement("input",{type:"button",value:r?"Loading...":"Login",onClick:function(){return""==c.value?(alert("You must enter a valid email address!"),!1):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(c.value)?""==i.value?(alert("You must enter a password!"),!1):(h(null),s(!0),void f.a.post("http://localhost:4000/users/signin",{username:c.value,password:i.value,regname:u.value,regpassword:d.value}).then((function(t){s(!1),m(t.data.token,t.data.user),E(),e.history.push("/dashboard"),p(),E()})).catch((function(e){s(!1),401===e.response.status?h(e.response.data.message):h("Something went wrong. Please try again later.")}))):(alert("You have entered an invalid email address!"),!1)},disabled:r}),l.a.createElement("br",null),l.a.createElement("br",null),g&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{color:"red"}},g),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("input",{type:"button",value:"Register new user",onClick:function(){e.history.push("/register")}})))};var A=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),l=a[0],r=a[1];return{value:l,onChange:function(e){r(e.target.value)}}},x=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],s=a[1],c=A(""),i=A(""),u=A(""),d=A(""),v=A(""),E=Object(n.useState)(null),g=Object(o.a)(E,2),h=g[0],w=g[1],y=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),x=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),j=!1,S=!1;return l.a.createElement("div",null,l.a.createElement("div",null),l.a.createElement("div",{id:"divRegister",style:{visibility:"visible"}},l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},"Register ",l.a.createElement("br",null))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("span",{className:"notes"},"Email")),l.a.createElement("td",null,l.a.createElement("input",Object.assign({id:"txtEmail",type:"text"},u)))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("span",{className:"notes"},"Password")),l.a.createElement("td",null,l.a.createElement("input",Object.assign({id:"txtPassword",type:"password"},d,{onBlur:function(e){if(S)return S=!1,!0;j=!0;var t=e.target.value;return""==t?(alert("you must enter a password"),!0):d.value.length<12?(alert("Your password must be at least 12 characters long"),!1):(e.target.value,y.test(t)?(document.all("txtPassword").style.background="green",!0):(x.test(t)?(document.all("txtPassword").style.background="orange",alert("password strength is weak")):(document.all("txtPassword").style.background="red",alert("password strength is too weak to use"),document.all("txtPassword").value=""),!0))}})))),l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},l.a.createElement("span",{className:"notes-small"},"NB: A strong password must contain a combination of: uppercase letters; lower case letters; special characters; numbers and be at least 12 characters long."))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("span",{className:"notes"},"Confirm password")),l.a.createElement("td",null,l.a.createElement("input",Object.assign({id:"txtPassword2",type:"password"},v,{onBlur:function(e){return document.all("divLogo").style.visibility="visible",j?(j=!1,!0):(S=!0,""===document.all("txtPassword").value||document.all("txtPassword").value===document.all("txtPassword2").value||(alert("the passwords do not match"),!1))}})))),l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},l.a.createElement("input",{type:"button",value:"Register",onClick:function(){return""==u.value?(alert("You must enter a valid email address!"),document.all("txtEmail").focus(),!1):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(u.value)?""==d.value?(alert("You must enter a password!"),document.all("txtPassword").focus(),!1):""==v.value?(alert("You must enter a password!"),document.all("txtPassword2").focus(),!1):v.value!==d.value?(alert("The passwords provided do not match"),!1):(w(null),s(!0),void f.a.post("http://localhost:4000/users/signin",{username:c.value,password:i.value,regname:u.value,regpassword:d.value}).then((function(t){s(!1),m(t.data.token,t.data.user),document.all("divDashboard").style.visibility="visible",document.all("divDashboard").style.width="130px",e.history.push("/dashboard"),p(),b()})).catch((function(e){s(!1),401===e.response.status?w(e.response.data.message):w("Something went wrong. Please try again later.")}))):(alert("You have entered an invalid email address!"),document.all("txtEmail").focus(),!1)},disabled:r})," ",l.a.createElement("br",null))))),l.a.createElement("br",null),h&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{color:"red"}},h),l.a.createElement("br",null)),l.a.createElement("br",null))};var j=function(e){v();var t=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null}();return l.a.createElement("center",null,l.a.createElement("div",null,"Welcome ",t.name,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("p",{className:"pWelcome"},""),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null,"No stuff yet...")))))},S=a(14),P=a.n(S);var N=function(){return l.a.createElement("center",null,l.a.createElement("div",{id:"divMain"},l.a.createElement("div",null,l.a.createElement("img",{src:P.a}))))};var C=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),l=a[0],r=a[1];return{value:l,onChange:function(e){r(e.target.value)}}},L=function(e){v();var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=(a[0],a[1],C(""),C(""),C(""),C(""),C(""),Object(n.useState)(null)),s=Object(o.a)(r,2);return s[0],s[1],l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("input",{type:"button",onClick:function(){g(),d(),e.history.push("/login")},value:"Confirm logout"})))},O=a(28),k=a.n(O),Y=a(12);var B=function(e){var t=e.component,a=Object(Y.a)(e,["component"]);return l.a.createElement(i.b,Object.assign({},a,{render:function(e){return u()?l.a.createElement(t,e):l.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var R=function(e){var t=e.component,a=Object(Y.a)(e,["component"]);return l.a.createElement(i.b,Object.assign({},a,{render:function(e){return u()?l.a.createElement(i.a,{to:{pathname:"/dashboard"}}):l.a.createElement(t,e)}}))};var X=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=u();e&&f.a.post("http://localhost:4000/"+"verifyToken?token=".concat(e)).then((function(e){m(e.data.token,e.data.user),r(!1)})).catch((function(e){d(),r(!1)}))}),[]),a&&u()?l.a.createElement("div",{className:"content"},"Checking Authentication..."):l.a.createElement("div",{className:"App"},l.a.createElement(c.a,null,l.a.createElement("center",null,l.a.createElement("div",{id:"divNav"},l.a.createElement("div",{className:"header"},l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(c.b,{exact:!0,activeClassName:"active",to:"/"},"Home")),l.a.createElement("td",null,l.a.createElement("div",{id:"divLogin",style:{visibility:"visible",width:"80px"}},l.a.createElement(c.b,{activeClassName:"active",to:"/login"},"Login"),l.a.createElement("small",null))),l.a.createElement("td",null,l.a.createElement("div",{id:"divDashboard",style:{visibility:"hidden",width:"0px"}},l.a.createElement(c.b,{activeClassName:"active",to:"/dashboard"},"My Stuff"),l.a.createElement("small",null))),l.a.createElement("td",null,l.a.createElement("div",{id:"divLogout",style:{visibility:"hidden",width:"0px"}},l.a.createElement(c.b,{activeClassName:"active",to:"/logout"},"Logout"),l.a.createElement("small",null)))))),l.a.createElement("div",{className:"content"},l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/",component:N}),l.a.createElement(R,{path:"/login",component:y}),l.a.createElement(R,{path:"/register",component:x}),l.a.createElement(B,{path:"/dashboard",component:j}),l.a.createElement(B,{path:"/logout",component:L})))))),l.a.createElement("div",{id:"divLogo",className:"logo"},l.a.createElement("img",{src:k.a})))};s.a.render(l.a.createElement(X,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.f423e65b.chunk.js.map